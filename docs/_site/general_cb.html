<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>General cookbook - Astrocook</title> <link rel="shortcut icon" href="/astrocook/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/astrocook/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/astrocook/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/astrocook/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>General cookbook | Astrocook</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="General cookbook" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A thousand recipes to cook a spectrum" /> <meta property="og:description" content="A thousand recipes to cook a spectrum" /> <link rel="canonical" href="http://localhost:4000/astrocook/general_cb.html" /> <meta property="og:url" content="http://localhost:4000/astrocook/general_cb.html" /> <meta property="og:site_name" content="Astrocook" /> <script type="application/ld+json"> {"url":"http://localhost:4000/astrocook/general_cb.html","description":"A thousand recipes to cook a spectrum","headline":"General cookbook","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/astrocook/" class="site-title lh-tight"> Astrocook </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/astrocook/start.html" class="nav-list-link">Getting started</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/astrocook/setup.html" class="nav-list-link">Setup</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/gui.html" class="nav-list-link">Using the GUI</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/workflows.html" class="nav-list-link">Managing workflows</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/astrocook/data.html" class="nav-list-link">Managing data</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/astrocook/structures.html" class="nav-list-link">Data structures</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/graphs.html" class="nav-list-link">Graphs</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/tables.html" class="nav-list-link">Tables</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/other.html" class="nav-list-link">Other tools</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/astrocook/common.html" class="nav-list-link">Common tasks</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/astrocook/merge.html" class="nav-list-link">Merging spectra</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/continuum.html" class="nav-list-link">Continuum estimation</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/absorbers.html" class="nav-list-link">Modeling absorbers</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/astrocook/cookbook.html" class="nav-list-link">Cookbooks</a><ul class="nav-list "><li class="nav-list-item active"><a href="http://localhost:4000/astrocook/general_cb.html" class="nav-list-link active">General cookbook</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/continuum_cb.html" class="nav-list-link">Continuum cookbook</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/absorbers_cb.html" class="nav-list-link">Absorbers cookbook</a></li><li class="nav-list-item "><a href="http://localhost:4000/astrocook/templates_cb.html" class="nav-list-link">Templates cookbook</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/astrocook/about.html" class="nav-list-link">About</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Astrocook" aria-label="Search Astrocook" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/astrocook/cookbook.html">Cookbooks</a></li> <li class="breadcrumb-nav-list-item"><span>General cookbook</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="general-cookbook"> <a href="#general-cookbook" class="anchor-heading" aria-labelledby="general-cookbook"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General cookbook </h1> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#equalize-sessions" id="markdown-toc-equalize-sessions">Equalize sessions</a></li> <li><a href="#combine-sessions" id="markdown-toc-combine-sessions">Combine sessions</a></li> <li><a href="#import-structure" id="markdown-toc-import-structure">Import structure</a></li> <li><a href="#modify-structures" id="markdown-toc-modify-structures">Modify structures</a></li> <li><a href="#extract-region" id="markdown-toc-extract-region">Extract region</a></li> <li><a href="#convert-x-axis" id="markdown-toc-convert-x-axis">Convert x axis</a></li> <li><a href="#convert-y-axis" id="markdown-toc-convert-y-axis">Convert y axis</a></li> <li><a href="#scale-y-axis" id="markdown-toc-scale-y-axis">Scale y axis</a></li> <li><a href="#scale-y-axis-to-median-" id="markdown-toc-scale-y-axis-to-median-">Scale y axis to median üöß</a></li> <li><a href="#shift-to-and-from-frame-" id="markdown-toc-shift-to-and-from-frame-">Shift to and from frame üöß</a></li> <li><a href="#rebin-spectrum" id="markdown-toc-rebin-spectrum">Rebin spectrum</a></li> <li><a href="#convolve-with-gaussian--" id="markdown-toc-convolve-with-gaussian--">Convolve with gaussian üöß</a></li> <li><a href="#estimate-resolution--" id="markdown-toc-estimate-resolution--">Estimate resolution üöß</a></li> <li><a href="#estimate-snr-" id="markdown-toc-estimate-snr-">Estimate SNR üöß</a></li> </ol><hr /> <h2 id="equalize-sessions"> <a href="#equalize-sessions" class="anchor-heading" aria-labelledby="equalize-sessions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Equalize sessions </h2> <div class="table-wrapper"><table> <tbody> <tr> <td style="vertical-align:top;width:200px"><strong>Method</strong></td> <td style="vertical-align:top"><code>GUIPanelSession.equalize</code></td> </tr> <tr> <td style="vertical-align:top"><strong>Parameters</strong></td> <td style="vertical-align:top"> <ul> <li><code>xmin</code>: Minimum wavelength (nm)</li> <li><code>xmax</code>: Maximum wavelength (nm)</li> <li><code>_sel</code>: Selected sessions</li> </ul> </td> </tr> </tbody> </table></div> <p><strong>Equalize the flux level of one session to another one.</strong> The last-selected session is equalized to the first-selected one. The equalization factor is the ratio of the median flux within the specified wavelength interval. When the recipe is called from the GUI, the <code class="language-plaintext highlighter-rouge">_sel</code> parameter is defined automatically by clicking on the two input sessions.</p> <h2 id="combine-sessions"> <a href="#combine-sessions" class="anchor-heading" aria-labelledby="combine-sessions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Combine sessions </h2> <div class="table-wrapper"><table> <tbody> <tr> <td style="vertical-align:top;width:200px"><strong>Method</strong></td> <td style="vertical-align:top"><code>GUIPanelSession.combine</code></td> </tr> <tr> <td style="vertical-align:top"><strong>Parameters</strong></td> <td style="vertical-align:top"> <ul> <li><code>name</code>: Name of the output session</li> </ul> </td> </tr> </tbody> </table></div> <p><strong>Combine two or more sessions.</strong> A new session is created, with a new spectrum containing all entries from the spectra of the combined sessions. Other objects from the sessions (line lists, etc.) are discarded. When the recipe is called from the GUI, the <code class="language-plaintext highlighter-rouge">_sel</code> parameter is defined automatically by clicking on the input sessions.</p> <h2 id="import-structure"> <a href="#import-structure" class="anchor-heading" aria-labelledby="import-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Import structure </h2> <div class="table-wrapper"><table> <tbody> <tr> <td style="vertical-align:top;width:200px"><strong>Method</strong></td> <td style="vertical-align:top"><code>GUIPanelSession.struct_import</code></td> </tr> <tr> <td style="vertical-align:top"><strong>Parameters</strong></td> <td style="vertical-align:top"> <ul> <li><code>struct</code>: Structure</li> <li><code>mode</code>: Mode (<code>replace</code> or <code>append</code>)</li> </ul> </td> </tr> </tbody> </table></div> <p><strong>Import a data structure from a session into the current one.</strong> The structure to be imported is described by a string with the session number and the structure tag (<code class="language-plaintext highlighter-rouge">spec</code>, <code class="language-plaintext highlighter-rouge">lines</code>, <code class="language-plaintext highlighter-rouge">systs</code>), separated by a comma (e.g. <code class="language-plaintext highlighter-rouge">0,spec</code>, meaning ‚Äúspectrum from session 0‚Äù). The imported structure is either replaced or appended to the corresponding one in the current session.</p> <h2 id="modify-structures"> <a href="#modify-structures" class="anchor-heading" aria-labelledby="modify-structures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modify structures </h2> <div class="table-wrapper"><table> <tbody> <tr> <td style="vertical-align:top;width:200px"><strong>Method</strong></td> <td style="vertical-align:top"><code>GUIPanelSession.struct_modify</code></td> </tr> <tr> <td style="vertical-align:top"><strong>Parameters</strong></td> <td style="vertical-align:top"> <ul> <li><code>col_A</code>: Column A</li> <li><code>col_B</code>: Column B or scalar</li> <li><code>struct_out</code>: Output column</li> <li><code>op</code>: Binary operator</li> </ul> </td> </tr> </tbody> </table></div> <p><strong>Modify a data structure using a binary operator.</strong> An output column is computed applying a binary operator to two input columns, or an input column and a scalar. Columns are described by a string with the session number, the structure tag (<code class="language-plaintext highlighter-rouge">spec</code>, <code class="language-plaintext highlighter-rouge">lines</code>, <code class="language-plaintext highlighter-rouge">systs</code>), and the column name separated by a comma (e.g. <code class="language-plaintext highlighter-rouge">0,spec,x</code>, meaning ‚Äúcolumn x of spectrum from session 0‚Äù). They can be from different data structures only if they have the same length. If the output column already exists, it is overwritten.</p> <h2 id="extract-region"> <a href="#extract-region" class="anchor-heading" aria-labelledby="extract-region"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Extract region </h2> <div class="table-wrapper"><table> <tbody> <tr> <td style="vertical-align:top;width:200px"><strong>Method</strong></td> <td style="vertical-align:top"><code>CookbookGeneral.region_extract</code></td> </tr> <tr> <td style="vertical-align:top"><strong>Parameters</strong></td> <td style="vertical-align:top"> <ul> <li><code>xmin</code>: Minimum wavelength (nm)</li> <li><code>xmax</code>: Maximum wavelength (nm)</li> </ul> </td> </tr> </tbody> </table></div> <p><strong>Extract a spectral region.</strong> The region between a minimum and a maximum wavelength is extracted from the data structures in the current session (these include the selected spectral range with all the lines, and the absorption systems that fall within). A new session with the extracted data structures is created.</p> <h2 id="convert-x-axis"> <a href="#convert-x-axis" class="anchor-heading" aria-labelledby="convert-x-axis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Convert x axis </h2> <div class="table-wrapper"><table> <tbody> <tr> <td style="vertical-align:top;width:200px"><strong>Method</strong></td> <td style="vertical-align:top"><code>CookbookGeneral.x_convert</code></td> </tr> <tr> <td style="vertical-align:top"><strong>Parameters</strong></td> <td style="vertical-align:top"> <ul> <li><code>zem</code>: Emission redshift</li> <li><code>xunit</code>: Unit of wavelength or velocity</li> </ul> </td> </tr> </tbody> </table></div> <p><strong>Convert the x axis to wavelength or velocity units.</strong> The x axis can be converted to any unit of wavelength or velocity (default: nm and km/s). The conversion applies to both the spectrum and the line list. When converting to and from velocity units, the zero point is set at (1+<code class="language-plaintext highlighter-rouge">zem</code>)Œª_Lya (where Œª_Lya = 121.567 nm is the rest-frame wavelength of the Lyman-alpha transition).</p> <h2 id="convert-y-axis"> <a href="#convert-y-axis" class="anchor-heading" aria-labelledby="convert-y-axis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Convert y axis </h2> <div class="table-wrapper"><table> <tbody> <tr> <td style="vertical-align:top;width:200px"><strong>Method</strong></td> <td style="vertical-align:top"><code>CookbookGeneral.y_convert</code></td> </tr> <tr> <td style="vertical-align:top"><strong>Parameters</strong></td> <td style="vertical-align:top"> <ul> <li><code>yunit</code>: Unit (of flux density)</li> </ul> </td> </tr> </tbody> </table></div> <p><strong>Convert the y axis to different units.</strong> The y axis can be expressed in different units depending on how it was calibrated (default: erg/(cm^2 s nm)). It can be converted to any unit of the same physical quantity. The conversion applies to both the spectrum and the line list.</p> <h2 id="scale-y-axis"> <a href="#scale-y-axis" class="anchor-heading" aria-labelledby="scale-y-axis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scale y axis </h2> <div class="table-wrapper"><table> <tbody> <tr> <td style="vertical-align:top;width:200px"><strong>Method</strong></td> <td style="vertical-align:top"><code>CookbookGeneral.y_scale</code></td> </tr> <tr> <td style="vertical-align:top"><strong>Parameters</strong></td> <td style="vertical-align:top"> <ul> <li><code>fact</code>: Multiplicative factor</li> </ul> </td> </tr> </tbody> </table></div> <p><strong>Scale the y axis by a constant factor.</strong> The spectrum and the line list are rescaled in place, without starting a new session.</p> <h2 id="scale-y-axis-to-median-"> <a href="#scale-y-axis-to-median-" class="anchor-heading" aria-labelledby="scale-y-axis-to-median-"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scale y axis to median üöß </h2> <h2 id="shift-to-and-from-frame-"> <a href="#shift-to-and-from-frame-" class="anchor-heading" aria-labelledby="shift-to-and-from-frame-"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Shift to and from frame üöß </h2> <h2 id="rebin-spectrum"> <a href="#rebin-spectrum" class="anchor-heading" aria-labelledby="rebin-spectrum"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rebin spectrum </h2> <div class="table-wrapper"><table> <tbody> <tr> <td style="vertical-align:top;width:200px"><strong>Method</strong></td> <td style="vertical-align:top"><code>CookbookGeneral.rebin</code></td> </tr> <tr> <td style="vertical-align:top"><strong>Parameters</strong></td> <td style="vertical-align:top"> <ul> <li><code>xstart</code>: Start wavelength (nm)</li> <li><code>xend</code>: End wavelength (nm)</li> <li><code>dx</code>: Step in x</li> <li><code>xunit</code>: Unit of wavelength or velocity</li> <li><code>norm</code>: Return normalized spectrum, if continuum exists</li> </ul> </td> </tr> </tbody> </table></div> <p><strong>Rebin a spectrum with a given step.</strong> The step can be expressed in any unit of wavelength or velocity. Start and end wavelength may be specified, e.g. to align the rebinned spectrum to other spectra. If start or end wavelength are <code class="language-plaintext highlighter-rouge">None</code>, rebinning is performed from the first to the last wavelength of the input spectrum. A new session is created with the rebinned spectrum. Other objects from the old session (line lists, etc.) are discarded.</p> <h2 id="convolve-with-gaussian--"> <a href="#convolve-with-gaussian--" class="anchor-heading" aria-labelledby="convolve-with-gaussian--"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Convolve with gaussian üöß </h2> <h2 id="estimate-resolution--"> <a href="#estimate-resolution--" class="anchor-heading" aria-labelledby="estimate-resolution--"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Estimate resolution üöß </h2> <h2 id="estimate-snr-"> <a href="#estimate-snr-" class="anchor-heading" aria-labelledby="estimate-snr-"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Estimate SNR üöß </h2> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
