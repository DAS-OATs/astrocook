<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Data structures - Astrocook</title> <link rel="shortcut icon" href="http://localhost:4000/astrocook/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/astrocook/assets/css/just-the-docs.css"> <script type="text/javascript" src="http://localhost:4000/astrocook/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/astrocook/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Data structures | Astrocook</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="Data structures" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A thousand recipes to cook a spectrum" /> <meta property="og:description" content="A thousand recipes to cook a spectrum" /> <link rel="canonical" href="http://localhost:4000/astrocook/structures.html" /> <meta property="og:url" content="http://localhost:4000/astrocook/structures.html" /> <meta property="og:site_name" content="Astrocook" /> <script type="application/ld+json"> {"url":"http://localhost:4000/astrocook/structures.html","description":"A thousand recipes to cook a spectrum","headline":"Data structures","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/astrocook/" class="site-title lh-tight"> Astrocook </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="http://localhost:4000/astrocook/404.html" class="navigation-list-link"></a></li><li class="navigation-list-item"><a href="http://localhost:4000/astrocook/start.html" class="navigation-list-link">Getting started</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/setup.html" class="navigation-list-link">Setup</a></li><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/gui.html" class="navigation-list-link">Using the GUI</a></li></ul></li><li class="navigation-list-item active"><a href="http://localhost:4000/astrocook/data.html" class="navigation-list-link">Managing data</a><ul class="navigation-list-child-list "><li class="navigation-list-item active"><a href="http://localhost:4000/astrocook/structures.html" class="navigation-list-link active">Data structures</a></li><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/plots.html" class="navigation-list-link">Plots</a></li><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/tables.html" class="navigation-list-link">Tables</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/astrocook/common.html" class="navigation-list-link">Common tasks</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/merge.html" class="navigation-list-link">Merging spectra</a></li><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/continuum.html" class="navigation-list-link">Continuum estimation</a></li><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/absorbers.html" class="navigation-list-link">Modeling absorbers</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/astrocook/cookbook.html" class="navigation-list-link">Cookbooks</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/general_cb.html" class="navigation-list-link">General cookbook</a></li><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/continuum_cb.html" class="navigation-list-link">Continuum cookbook</a></li><li class="navigation-list-item "><a href="http://localhost:4000/astrocook/absorbers_cb.html" class="navigation-list-link">Absorbers cookbook</a></li></ul></li><li class="navigation-list-item"><a href="http://localhost:4000/astrocook/about.html" class="navigation-list-link">About</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Astrocook" aria-label="Search Astrocook" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> </div> <div class="page"> <nav class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/astrocook/data.html">Managing data</a></li> <li class="breadcrumb-nav-list-item"><span>Data structures</span></li> </ol> </nav> <div id="main-content" class="page-content" role="main"> <h1 class="no_toc" id="data-structures"> <a href="#data-structures" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Data structures </h1> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#spectra" id="markdown-toc-spectra">Spectra</a></li> <li><a href="#list-of-lines" id="markdown-toc-list-of-lines">List of lines</a></li> <li><a href="#list-of-absorption-systems" id="markdown-toc-list-of-absorption-systems">List of absorption systems</a></li> </ol> <hr /> <p>Astrocook manages three main data structures: <em>spectra</em>, <em>line lists</em>, and <em>system lists</em>. All three structures include a data table (actually an <a href="https://docs.astropy.org/en/stable/table/">Astropy Table</a> object) and a metadata dictionary. They are formatted as FITS files and bundled into a <code class="language-plaintext highlighter-rouge">.acs</code> archive when you save a snapshot of a session. The <code class="language-plaintext highlighter-rouge">.acs</code> archive may also contain other ancillary data, as described below.</p> <p>To display the data tables, choose <code class="language-plaintext highlighter-rouge">View &gt; Spectrum table</code> (or <code class="language-plaintext highlighter-rouge">Line table</code> or <code class="language-plaintext highlighter-rouge">System table</code>) from the menu bar.</p> <p>⚠️ <strong>Long tables can take a long time to display.</strong></p> <h2 id="spectra"> <a href="#spectra" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Spectra </h2> <p>Each Astrocook session is based on a spectrum, i.e. a table that pairs a flux-like quantity to a wavelength-like quantity. We use the expressions “flux-like” and “wavelength-like” to be as general as possible: from the point of view of structure, it doesn’t matter if the spectrum is expressed in wavelengths or frequencies, or if the flux density is calibrated in physical units or not.</p> <p>The fundamental columns of a spectrum are:</p> <ul> <li><code class="language-plaintext highlighter-rouge">x</code>: the wavelength-like independent variable;</li> <li><code class="language-plaintext highlighter-rouge">xmin</code>, <code class="language-plaintext highlighter-rouge">xmax</code>: the interval in <code class="language-plaintext highlighter-rouge">x</code> values in which the flux-like quantity is integrated;</li> <li><code class="language-plaintext highlighter-rouge">y</code>: the flux-like dependent variable;</li> <li><code class="language-plaintext highlighter-rouge">dy</code>: the error on <code class="language-plaintext highlighter-rouge">y</code>.</li> </ul> <p>The interval [<code class="language-plaintext highlighter-rouge">xmin</code>, <code class="language-plaintext highlighter-rouge">xmax</code>] is also called a <em>pixel</em>, because in some cases it maps to a physical pixel in the spectrograph detector.</p> <p>Other columns that frequently appear in a spectrum are:</p> <ul> <li><code class="language-plaintext highlighter-rouge">y_conv</code>: a convolution of <code class="language-plaintext highlighter-rouge">y</code> with some smoothing kernel;</li> <li><code class="language-plaintext highlighter-rouge">lines_mask</code>: a boolean mask of the detected lines (see <a href="/astrocook/structures.html#list-of-lines">below</a>);</li> <li><code class="language-plaintext highlighter-rouge">cont</code>: the spectral <em>continuum</em>, i.e. the component of <code class="language-plaintext highlighter-rouge">y</code> that remains after removing local features (e.g. absorption lines) and smoothing out noise;</li> <li><code class="language-plaintext highlighter-rouge">model</code>: a spectral <em>model</em>, i.e. a model of both the continuum and the absorption systems (see <a href="/astrocook/structures.html#list-of-absorption-systems">below</a>;</li> <li><code class="language-plaintext highlighter-rouge">deabs</code>: a <em>deabsorbed</em> spectrum, i.e. an equivalent of <code class="language-plaintext highlighter-rouge">y</code> after the absorption lines have been removed using the model;</li> <li><code class="language-plaintext highlighter-rouge">resol</code>: the spectral resolution at <code class="language-plaintext highlighter-rouge">x</code>;</li> <li><code class="language-plaintext highlighter-rouge">fit_mask</code>: a boolean mask of the regions used to fit the model of the absorption systems.</li> </ul> <p>You are free to add other columns to the spectrum or edit the existing ones (as explained <a href="/astrocook/tables.html">here</a>).</p> <h2 id="list-of-lines"> <a href="#list-of-lines" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> List of lines </h2> <p>When you detect spectral lines (either in emission or absorption), they are formatted into a table that is added to the session.</p> <p>The information to populate the table columns is directly extracted from the <a href="/astrocook/structures.html#spectra">spectrum</a>) where the lines have been detected:</p> <ul> <li><code class="language-plaintext highlighter-rouge">x</code>: the line center, corresponding to the <code class="language-plaintext highlighter-rouge">x</code> value of a pixel in the spectrum;</li> <li><code class="language-plaintext highlighter-rouge">xmin</code>, <code class="language-plaintext highlighter-rouge">xmax</code>: the boundaries of the interval covered by the line, also corresponding to the <code class="language-plaintext highlighter-rouge">x</code> values of two pixels in the spectrum;</li> <li><code class="language-plaintext highlighter-rouge">y</code>, <code class="language-plaintext highlighter-rouge">dy</code>: values of <code class="language-plaintext highlighter-rouge">y</code> and <code class="language-plaintext highlighter-rouge">dy</code> at <code class="language-plaintext highlighter-rouge">x</code> from the spectrum;</li> <li><code class="language-plaintext highlighter-rouge">source</code>: column of the spectrum that was used to detect the line.</li> </ul> <p>Please note that in this case [<code class="language-plaintext highlighter-rouge">xmin</code>, <code class="language-plaintext highlighter-rouge">xmax</code>] do not map to a single pixel in the spectrum, but to a range of pixels.</p> <p>Lines are not typically detected on the raw <code class="language-plaintext highlighter-rouge">y</code> column of the spectrum, because in general the noise on <code class="language-plaintext highlighter-rouge">y</code> makes it very hard to discriminate between legitimate lines and random fluctuations. This is the reason for keeping track of the <code class="language-plaintext highlighter-rouge">source</code> of the detected lines. A typical <code class="language-plaintext highlighter-rouge">source</code> value is <code class="language-plaintext highlighter-rouge">y_conv</code>, i.e. a convolution of the <code class="language-plaintext highlighter-rouge">y</code> column of the spectrum with some smoothing kernel (see <a href="/astrocook/structures.html#spectra">above</a>) but it may be any other column.</p> <h2 id="list-of-absorption-systems"> <a href="#list-of-absorption-systems" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> List of absorption systems </h2> <p>Absorption lines detected in quasar spectra are frequently grouped into absorption systems, i.e. sets of lines produced by different ions more or less at the same redshift. When you detect absorption systems, they are also formatted into a table added to the session.</p> </div> </div> </div> </div> </body> </html>
